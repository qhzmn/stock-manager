
{% extends 'base.html.twig' %}

{% block stylesheets %}
<link rel="stylesheet" href="/assets/css/table.css">
<link rel="stylesheet" href="/assets/css/button.css">
<link rel="stylesheet" href="/assets/css/form.css">
<link rel="stylesheet" href="/assets/css/container.css">


{% endblock %}

{% block content %}



<div>
<h1>Pproduct selection</h1>
    {% if products is empty %}
        <span class="no-action">No product</span>
    {% else %}
        
   
        <form method="POST" action="/product/select">

            <table border="1" cellpadding="5" cellspacing="0">
                <thead>
                    <tr>
                        <th>
                            <input type="checkbox" id="select-all">
                        </th>
                        <th>SKU</th>
                        <th>Name</th>
                        <th>Quantity</th>
                        <th>Purchase price (€)</th>
                        <th>Selling price (€)</th>
                        
                    </tr>
                </thead>
                <tbody>
                    {% for product in products %}
                    <tr>
                        <td>
                            <input type="checkbox" name="selected_products[]"
                            value="{{ product.id_product }}"
                            {% if product.id_product in selected_ids %}checked{% endif %}>
                        </td>
                        <td>{{ product.sku|e }}</td>
                        <td>{{ product.name|e }}</td>
                        <td>{{ product.purchase_price|number_format(2, ',', ' ') }}</td>
                        <td>{{ product.selling_price|number_format(2, ',', ' ') }}</td>
                        <td>{{ product.quantity|e }}</td>  
                    </tr>
                    {% endfor %}
                </tbody>
            </table>

            
            <div class="select-btn-container">
            <button type="submit" class="add-btn">
                Confirm selection
            </button>
        </div>
        </form> 
        
    {% endif %}
</div>

{% endblock %}

{% block javascripts %}
    <script src="/assets/js/checkbox_product.js"></script>
{% endblock %}